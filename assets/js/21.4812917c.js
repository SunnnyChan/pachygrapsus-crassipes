(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{265:function(_,v,t){"use strict";t.r(v);var n=t(28),r=Object(n.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("h1",{attrs:{id:"重抽样"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重抽样"}},[_._v("#")]),_._v(" 重抽样")]),_._v(" "),t("p",[_._v("在统计学中，重抽样是指从观测数据中反复地抽取数据值，目标是评估一个统计量中的随机变异性。")]),_._v(" "),t("p",[_._v("重抽样还可用于评估并提高一些机器学习模型的准确性。"),t("br"),_._v("\n例如，对于使用多个自助数据集构建的决策树模型，可以通过 Bagging 过程计算其平均值，参见 6.3 节。")]),_._v(" "),t("ul",[t("li",[_._v("重抽样过程主要有两种类型：")])]),_._v(" "),t("p",[_._v("自助法 ：自助法用于评估一个估计量的可靠性，我们在前面已经做了介绍(参见 2.4 节)。"),t("br"),_._v("\n置换检验 ： 本节将介绍用于检验假设的置换检验，它通常涉及两组或多组。")]),_._v(" "),t("ul",[t("li",[t("p",[_._v("主要术语")])]),_._v(" "),t("li",[t("ul",[t("li",[_._v("置换检验")])])])]),_._v(" "),t("p",[_._v("将两组或多组样本组合在一起，并将观测值随机地(或穷尽地)重新分配给重抽样。\n同义词：随机化检验、随机置换检验、准确检验")]),_._v(" "),t("ul",[t("li",[t("ul",[t("li",[_._v("有放回，无放回")])])])]),_._v(" "),t("p",[_._v("在抽样时，所抽取的元素在下一次抽取前是否放回样本中。")]),_._v(" "),t("h2",{attrs:{id:"_3-3-1-置换检验-permutation-test"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-1-置换检验-permutation-test"}},[_._v("#")]),_._v(" 3.3.1 置换检验 Permutation Test")]),_._v(" "),t("p",[_._v("置换过程涉及两组或多组样本，通常是 A/B 测试或其他假设检验中的组。"),t("br"),_._v("\n置换意味着改变一组值的顺序。")]),_._v(" "),t("p",[_._v("要对一个假设进行置换检验，\n首先要将从 A 组和 B 组(当然还可以包括其他组，例如 C、D......)中得到的结果组合在一起。"),t("br"),_._v("\n这就是零假设的逻辑，即无论处理指定给哪个组，都是无差别的。")]),_._v(" "),t("p",[_._v("然后，我们从组合集中随机抽取出各个组，并查看组间的差异情况，实现对假设的检验。")]),_._v(" "),t("ul",[t("li",[_._v("置换过程如下")])]),_._v(" "),t("ol",[t("li",[_._v("将各个组得出的结果组合为一个数据集")]),_._v(" "),t("li",[_._v("对组合得到的数据做随机混洗"),t("br"),_._v("\n然后从中随机抽取(有放回)一个规模与 A 组相同的重抽样样本。")]),_._v(" "),t("li",[_._v("在余下的数据中，随机抽取(无放回)一个规模与 B 组相同的重抽样样本")]),_._v(" "),t("li",[_._v("如果还有 C 组、D 组甚至更多的组，执行同样的操作")]),_._v(" "),t("li",[_._v("无论对原始样本计算的是哪一种统计量或估计量(例如，组比例差异)"),t("br"),_._v("\n现在对重抽样进行重新计算，并记录结果。这构成了一次置换迭代。")]),_._v(" "),t("li",[_._v("重复上述步骤 R 次，生成检验统计量的置换分布。")])]),_._v(" "),t("p",[_._v("现在我们回头查看所观测到的组间差异，并与置换差异进行对比。")]),_._v(" "),t("p",[_._v("如果观测到的差异位于置换差异内，那么置换检验的结果并不能证实任何事情。"),t("br"),_._v("\n因为观测到的差异落在偶然可能产生之差异的范围内。")]),_._v(" "),t("p",[_._v("但是，如果观测到的差异大部分落在置换分布之外，那么我们就可 以得出“与偶然性无关”这一结论。"),t("br"),_._v("\n如果使用专业术语描述，我们称差异是统计显著的(参见 3.4 节)。")]),_._v(" "),t("h2",{attrs:{id:"_3-3-2-例子-web黏性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-2-例子-web黏性"}},[_._v("#")]),_._v(" 3.3.2 例子:Web黏性")]),_._v(" "),t("p",[_._v("有一家公司提供较高价格的服务，现在，该公司想要测试两种 Web 显示，以确定哪一种能带来更高的销售额。"),t("br"),_._v("\n由于该公司提供的服务价格较高，因此销量并不大，而且销售周期很长。")]),_._v(" "),t("p",[_._v("要想确定哪种 Web 显示的效果更好，该公司需要很长的时间才能积累到足够多的销售数据。\n鉴于此，该公司决定使用一种"),t("strong",[_._v("代理变量")]),_._v("来度量结果，并使用详细描述公司服务的内部页面替代。")]),_._v(" "),t("ul",[t("li",[_._v("代理变量")])]),_._v(" "),t("p",[_._v("是一种可以代表我们所关注的真正变量的变量，真正关注的变量可能不可用，也可能度量的成本太高或耗时过长。"),t("br"),_._v("\n例如，在气候研究中，远古冰芯的含氧量被用作温度的代理变量。"),t("br"),_._v("\n最好至少有一点关于真正变量的数据，这样可以评估真正变量与代理变量间的关联程度。")]),_._v(" "),t("p",[_._v("在本例中，一个潜在的代理变量是着陆页上的点击数。当然，更好的代理变量是访问者在页面上停留的时间。"),t("br"),_._v("\n可以认为，如果一个 Web 显示页面能吸引人们关注更长的时间，那么它就可能会带来更高的销售额。"),t("br"),_._v("\n因此，我们这里所采用的度量是页面 A 与页面 B 的平均会话时间。")]),_._v(" "),t("p",[_._v("由于检验中所使用的 Web 页面是内部专用的，因此并不会有大量的访问者。"),t("br"),_._v("\n另外应注意的是，我们使用了 Google Analytics(GA) 工具测定会话时间，但是 GA 无法测定访问者上次访问的会话时间。"),t("br"),_._v("\n不过，GA 并不从数据中删除该会话，而是将记录置为零，因此我们需要对数据做一些额外的处理，以从数据中删除这些会话。")]),_._v(" "),t("p",[_._v("基于此，我们就两种不同的 Web 显示合计得到了 36 个会话，其中页面 A 的会话为 21 个，页面 B 的会话为 15 个。")]),_._v(" "),t("p",[_._v("为了直观地比较会话时间，我们使用 ggplot 实现了箱线图的并排绘制。")]),_._v(" "),t("p",[t("img",{attrs:{src:"http://pic.yupoo.com/sunnnychan/aa1b4dc0/7ad9eb95.png",alt:""}})]),_._v(" "),t("p",[_._v("图中显示了页面 B 具有比页面 A 更长的会话时间，平均比页面 A 高出约 35.7 秒。")]),_._v(" "),t("p",[_._v("但问题在于，这一差距是否落在随机性可能生成的范围内，即是否是统计显著的。")]),_._v(" "),t("p",[_._v("要回答这一问题，一种方法是应用置换检验，将所有会话时间组合在一起，然后反复做随机混洗。"),t("br"),_._v("\n再将数据分为一个具有 21 个 观测值的组(页面 A，n = 21) 和一个具有 15 个观测值的组(页面 B，n = 15)。")]),_._v(" "),t("p",[_._v("我们实现了一个进行置换检验的函数，该函数可以将 36 个会话时间随机分配给一个具有 21 个元素的组(页面 A)和一个具有 15 个元素的组(页面 B)。"),t("br"),_._v("\n该函数的工作原理是，无放回地抽样 n2 次，并分配给 B 组，余下的 n1 次抽样分配给 A 组。函数返回两组均值之间的差异。")]),_._v(" "),t("p",[_._v("我们指定 n2 = 15，n1 = 21，并调用该函数 R = 1000 次，然后绘制所生成的会话时间差异分布情况的直方图。")]),_._v(" "),t("ul",[t("li",[_._v("页面 A 和页面 B 会话时间差异的频数分布")])]),_._v(" "),t("p",[t("img",{attrs:{src:"http://pic.yupoo.com/sunnnychan/99a3cffa/541982c1.png",alt:""}})]),_._v(" "),t("p",[_._v("从图中可以看出，对于页面会话时间，随机置换的均值差异通常会超出观测到的差异(图中的垂直线)。"),t("br"),_._v("\n这表明，页面 A 和页面 B 会话时间 之间的观测差异落在随机变异的范围内，因此不是统计显著的。")]),_._v(" "),t("h2",{attrs:{id:"_3-3-3-穷尽置换检验和自助置换检验"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-3-穷尽置换检验和自助置换检验"}},[_._v("#")]),_._v(" 3.3.3 穷尽置换检验和自助置换检验")]),_._v(" "),t("p",[_._v("置换检验除了使用前面介绍的随机混洗过程(也称随机置换检验或随机检验)之外，还有两种重要变体:")]),_._v(" "),t("ul",[t("li",[_._v("穷尽(exhaustive)置换检验")])]),_._v(" "),t("p",[_._v("穷尽置换检验并不是随机混洗并分组数据，而是尝试所有可能的分组。\n穷尽置换检验"),t("strong",[_._v("只适用于规模较小的样本")]),_._v("。")]),_._v(" "),t("p",[_._v("如果做大量的重复混洗，那么随机置换检验的结果会近似于穷尽置换检验的结果，并在极限上逼近。\n穷尽置换检验有时也被称为"),t("strong",[_._v("准确检验")]),_._v("，因为其统计学属性确保了零模型不会被检验为比 α 值水平更显著(参见 3.4 节)。")]),_._v(" "),t("ul",[t("li",[_._v("自助(bootstrap)置换检验")])]),_._v(" "),t("p",[_._v("自助置换检验是在置换检验第二步和第三步的抽取中，进行有放回抽样，而非无放回抽样。"),t("br"),_._v("\n这样，重抽样过程不仅建模了随机分配对象给处理的过程，而且建模了从总体中随机抽取对象的过程。")]),_._v(" "),t("p",[_._v("这两个都是统计学过程，但是它们之间的差别过于复杂，因而不被数据科学实践所关注。")]),_._v(" "),t("h2",{attrs:{id:"_3-3-4-置换检验-数据科学的底线"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-4-置换检验-数据科学的底线"}},[_._v("#")]),_._v(" 3.3.4 置换检验:数据科学的底线")]),_._v(" "),t("p",[_._v("在探索随机变异性中，置换检验是一种十分有用的启发式过程。它很容易编码，也很容易理解和解释。"),t("br"),_._v("\n针对统计学中那些基于公式的形式主义和“假决定论”，"),t("strong",[_._v("置换检验提供了切实可行的绕行方法")]),_._v("。")]),_._v(" "),t("p",[_._v("不同于依赖于统计学公式的方法，重抽样的一个优点在于给出了一种更加近乎于“万能” 的推断方法。"),t("br"),_._v("\n它所适用的数据可以是数值，也可以是二元的，样本规模可以相同，也可以不同；"),t("br"),_._v("\n并且无须假设数据符合正态分布。")]),_._v(" "),t("h2",{attrs:{id:"本节要点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本节要点"}},[_._v("#")]),_._v(" 本节要点")]),_._v(" "),t("ol",[t("li",[_._v("置换检验将多个样本组合在一起，并做随机混洗。")]),_._v(" "),t("li",[_._v("对混洗后的值做分组并重抽样，计算我们感兴趣的统计量。")]),_._v(" "),t("li",[_._v("重复上述过程，并在表格中记录重抽样统计量的情况。")]),_._v(" "),t("li",[_._v("对比统计量的观测值与重抽样分布，就可以判定观测到的样本间差异是否由偶然性导致的。")])]),_._v(" "),t("h2",{attrs:{id:"拓展阅读"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#拓展阅读"}},[_._v("#")]),_._v(" 拓展阅读")]),_._v(" "),t("ol",[t("li",[_._v("Eugene Edgington 和 Patrick Onghena 合著的 Randomization Tests\n不要过度沉溺于该书中的非随机抽样内容。")]),_._v(" "),t("li",[_._v("Peter Bruce 撰写的 Introductory Statistics and Analytics: A Resampling Perspective 一书")])])])}),[],!1,null,null,null);v.default=r.exports}}]);