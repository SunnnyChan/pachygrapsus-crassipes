<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>3.8 方差分析 | Practical Statistics For Data Scientists</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/pachygrapsus-crassipes/assets/css/0.styles.a7f43921.css" as="style"><link rel="preload" href="/pachygrapsus-crassipes/assets/js/app.46ba7b70.js" as="script"><link rel="preload" href="/pachygrapsus-crassipes/assets/js/2.e15c1d5f.js" as="script"><link rel="preload" href="/pachygrapsus-crassipes/assets/js/25.f5b1741e.js" as="script"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/10.c41cb2f6.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/11.518a09d2.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/12.fbd571a3.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/13.26590ea9.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/14.23c99481.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/15.1d1b0f58.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/16.c3288bbe.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/17.2d9250f7.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/18.0ba2a19f.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/19.ca53c35b.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/20.b4323985.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/21.4812917c.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/22.dab79e70.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/23.b1cd130c.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/24.378e2d22.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/26.de07873d.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/27.66bc012e.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/28.9ede57b6.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/29.adf7ca87.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/3.1d40b5f1.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/30.1cb601a1.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/31.477c5c5e.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/32.4fb4a3a1.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/33.a6a15cc3.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/34.5777d836.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/35.64719835.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/36.460c4fdc.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/37.caade764.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/38.2ede932b.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/39.402948dc.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/4.ff5eda02.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/5.0aecd9bb.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/6.ec29b9af.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/7.7d20c928.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/8.daf92891.js"><link rel="prefetch" href="/pachygrapsus-crassipes/assets/js/9.da495518.js">
    <link rel="stylesheet" href="/pachygrapsus-crassipes/assets/css/0.styles.a7f43921.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/pachygrapsus-crassipes/" class="home-link router-link-active"><!----> <span class="site-name">Practical Statistics For Data Scientists</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="http://www.github.com/sunnnychan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="http://www.github.com/sunnnychan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/pachygrapsus-crassipes/content/" class="sidebar-link">内容摘录</a></li><li><a href="/pachygrapsus-crassipes/r/" class="sidebar-link">R演示代码</a></li><li><a href="/pachygrapsus-crassipes/cover/" class="sidebar-link">封面说明</a></li><li><a href="/pachygrapsus-crassipes/author/" class="sidebar-link">作者简介</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_3-8-方差分析"><a href="#_3-8-方差分析" class="header-anchor">#</a> 3.8 方差分析</h1> <p>如果我们不是要对两个组做 A/B 测试，而是要对比多个包含数值型数据的组(比如 A、B、 C、D)
这时可以使用方差分析(ANOVA，analysis of variance)。</p> <p>方差分析是一种检验多个组之间统计显著性差异的统计学方法。</p> <ul><li>主要术语</li></ul> <p>两两对比<br>
对于有多个组的情况，在两个组之间做假设检验(比如对均值)。<br>
多项检验(omnibus test)<br>
一种可以测定多个组均值间方差的单一假设检验。<br>
方差分解<br>
从整体统计量中(例如，从整体均值、处理均值以及残差中)，分离出单个值的贡献情况。<br>
F 统计量
一种归一化统计量，用于衡量多个组均值间的差异是否会超过随机模型的预期。<br>
SS<br>
sum of square(平方和)的简写，指与某一均值的偏差。</p> <h2 id="_3-8-1-f统计量"><a href="#_3-8-1-f统计量" class="header-anchor">#</a> 3.8.1 F统计量</h2> <p>在比较两组的均值时，我们可以使用 t 检验替代置换检验。<br>
类似地，对于方差分析而言，存在一种基于 F 统计量的统计检验。</p> <p>F 统计量基于各组均值间的方差(即处理效果)与由于残差所导致的方差间的比率。比率越高，结果就越统计显著。<br>
如果数据遵循正态分布，那么根据统计学理论，统计量也应符合某种分布。由此，p 值也是可以计算的。</p> <p>在 R 语言中，可以使用 aov 函数计算 ANOVA 表。</p> <div class="language-r extra-class"><pre class="language-r"><code><span class="token operator">&gt;</span> summary<span class="token punctuation">(</span>aov<span class="token punctuation">(</span>Time <span class="token operator">~</span> Page<span class="token punctuation">,</span> data<span class="token operator">=</span>four_sessions<span class="token punctuation">)</span><span class="token punctuation">)</span> Df Sum Sq Mean Sq F value Pr<span class="token punctuation">(</span><span class="token operator">&gt;</span>F<span class="token punctuation">)</span>
Page <span class="token number">3</span> <span class="token number">831.4</span> <span class="token number">277.1</span> <span class="token number">2.74</span> <span class="token number">0.0776</span> .
Residuals <span class="token number">16</span> <span class="token number">1618.4</span> <span class="token number">101.2</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
Signif. codes<span class="token operator">:</span> <span class="token number">0</span> <span class="token string">'***'</span> <span class="token number">0.001</span> <span class="token string">'**'</span> <span class="token number">0.01</span> <span class="token string">'*'</span> <span class="token number">0.05</span> <span class="token string">'.'</span> <span class="token number">0.1</span> <span class="token string">' '</span> <span class="token number">1</span>
</code></pre></div><p>在输出结果中，<br>
Df 表示自由度，<br>
Sum Sq 表示平方和，<br>
Mean Sq 是“均方偏差”(mean- squared deviations 的简写)，<br>
F Value 是 F 统计量。</p> <p>总平均的平方和 等于 总平均(与 0 的差值)平方后再乘以观测数 20。  （P104）</p> <h2 id="_3-8-2-双向方差分析"><a href="#_3-8-2-双向方差分析" class="header-anchor">#</a> 3.8.2 双向方差分析</h2> <p>上一节介绍的 A/B/C/D 测试是一种“单向”方差分析，其中只有一个变化因子(组)。<br>
我们可以加入第二个因子，例如“周末与工作日”，并在每对组合上收集数据(周末 A 组、 工作日 A 组、周末 B 组等)。<br>
这就构成一个双向方差分析。</p> <p>我们可以使用类似于单向方差 分析的实现方法，通过识别“交互效应”实现双向方差分析。</p> <p>在确定了总平均效果和处理 效果后，我们将各组中的周末和工作日观测结果分成子集，并找出各个子集的均值与处理 均值之间的差异。</p> <p>我们可以看到，方差分析(包括双向方差分析)是迈向完全统计模型(例如回归和逻辑回 归)的第一步。<br>
完全统计模型可以对多个因子及因子的影响情况建模(参见第 4 章)。</p> <h2 id="本节要点"><a href="#本节要点" class="header-anchor">#</a> 本节要点</h2> <ol><li>方差分析是一种用于分析多组处理结果的统计过程。</li> <li>方差分析是对 A/B 测试中类似过程的一种扩展，用于评估各组之间的整体方差是否落在随机变异范围内。</li> <li>方差分析的一个有用结果是识别出与组处理、交互效果和误差相关的方差成分。</li></ol> <h2 id="拓展阅读"><a href="#拓展阅读" class="header-anchor">#</a> 拓展阅读</h2> <ol><li>在 Peter Bruce 的 Introductory Statistics and Analytics: A Resampling Perspective 一 书 中， 专门有一章介绍了方差分析。</li> <li>George Cobb 撰写的 Introduction to Design and Analysis of Experiments 一书全面介绍了方 差分析，适合阅读。</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/pachygrapsus-crassipes/assets/js/app.46ba7b70.js" defer></script><script src="/pachygrapsus-crassipes/assets/js/2.e15c1d5f.js" defer></script><script src="/pachygrapsus-crassipes/assets/js/25.f5b1741e.js" defer></script>
  </body>
</html>
